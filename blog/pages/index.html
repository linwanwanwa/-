<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人首页</title>
    <!-- 预加载关键资源 -->
    <link rel="preload" href="../assets/css/styles.css" as="style">
    <link rel="preload" href="../assets/images/头像.png" as="image">
    <!-- 引入外部CSS文件 -->
    <link rel="stylesheet" href="../assets/css/styles.css">
    <!-- 异步加载Font Awesome图标 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" media="print" onload="this.media='all'">
</head>
<body>
    <!-- 顶部导航栏 -->
    <nav class="navbar">
        <div class="nav-brand">Linwan</div>
        <div class="nav-links">
            <a href="#home">首页</a>
            <a href="#projects">项目</a>
            <a href="#blog">博客</a>
            <a href="#about">关于</a>
            <button class="theme-toggle" id="themeToggle">
                <span class="icon">🌙</span>
                <span class="text">深色</span>
            </button>
        </div>
        <!-- 头像嵌入导航栏 - 移出nav-links容器 -->
        <img src="../assets/images/头像.png" alt="个人头像" class="avatar">
    </nav>

    <!-- 科技风背景板 -->
    <div class="tech-background"></div>

    <div class="container">
        <!-- 座右铭模块 -->
        <div class="motto fade-in delay-1">
            <h1>停车坐爱枫林晚</h1>
            <p>linwan'blog</p>
        </div>

        <!-- 项目链接模块 -->
        <div class="projects fade-in delay-3">
            <h2>我的项目</h2>
            <div class="project-list">
                <div class="project-item">
                    <a href="原谅我.html">道歉页面</a>
                    <p>一个温馨的道歉页面，包含爱心飘落动画效果</p>
                </div>
                <div class="project-item">
                    <a href="长沙两天行程规划（最终版）.html">长沙两日游行程</a>
                    <p>详细的长沙两日游行程规划，包含网红打卡和人文风光</p>
                </div>
                <div class="project-item">
                    <a href="../apps/鼠标连点器/鼠标连点器.exe" download>鼠标连点器</a>
                    <p>一个实用的鼠标自动点击工具，支持自定义点击间隔，按F9启停</p>
                </div>
            </div>
        </div>

        <!-- 博客模块 -->
        <div class="blog fade-in delay-3">
            <h2>最新博客</h2>
            <div class="blog-list">
            </div>
        </div>

        <!-- 联系方式模块 -->
        <div class="contact fade-in delay-4">
            <h2>联系我</h2>
            <div class="contact-list">
                <a href="mailto:1793004324@qq.com" class="contact-item">
                    <i class="fa fa-envelope-o"></i>
                    <span>1793004324@qq.com</span>
                </a>
                <a href="https://github.com/linwanwanwa" target="_blank" class="contact-item">
                    <i class="fa fa-github"></i>
                    <span>GitHub</span>
                </a>
                <a href="https://weibo.com/your-name" target="_blank" class="contact-item">
                    <i class="fa fa-weibo"></i>
                    <span>微博</span>
                </a>
                <a href="tel:15327412390" class="contact-item">
                    <i class="fa fa-phone"></i>
                    <span>15327412390</span>
                </a>
            </div>
        </div>

        <!-- 页脚 -->
        <div class="footer fade-in delay-4">
            <p>© 2024 linwan. All rights reserved.</p>
        </div>
    </div>

    <!-- 日夜切换和滚动动画脚本 -->
    <script>
        // 日夜切换功能
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = themeToggle.querySelector('.icon');
        const themeText = themeToggle.querySelector('.text');

        // 检查本地存储的主题设置
        const savedTheme = localStorage.getItem('theme');
        
        // 自动检测系统主题偏好
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');

        // 设置主题函数
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            
            if (theme === 'light') {
                themeIcon.textContent = '☀️';
                themeText.textContent = '浅色';
            } else {
                themeIcon.textContent = '🌙';
                themeText.textContent = '深色';
            }
        }

        // 初始化主题
        function initTheme() {
            if (savedTheme) {
                setTheme(savedTheme);
            } else if (prefersDarkScheme.matches) {
                setTheme('dark');
            } else {
                setTheme('light');
            }
        }

        // 监听主题切换按钮点击
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            setTheme(newTheme);
        });

        // 监听系统主题变化
        prefersDarkScheme.addEventListener('change', (e) => {
            if (!localStorage.getItem('theme')) {
                setTheme(e.matches ? 'dark' : 'light');
            }
        });

        // 初始化主题
        initTheme();

        // 使用Intersection Observer API优化滚动动画性能
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        // 为所有fade-in元素添加观察器
        document.querySelectorAll('.fade-in').forEach(element => {
            observer.observe(element);
        });
    </script>
</body>
</html>